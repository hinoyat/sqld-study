# 1-4. 관계 (Relationship)

## 관계의 개념
- **관계(Relationship)**는 엔터티 간의 **연관성**을 나타내는 개념이다.
- 관계를 정의할 때는 엔터티 자체가 아니라, **엔터티의 인스턴스(행)** 사이의 논리적 연관성을 고려해야 한다.
- 동일한 엔터티라도 어떻게 정의했는지에 따라 관계의 종류가 달라질 수 있다.

---

## 관계의 종류

1. **존재적 관계 (Existential Relationship)**
    - 한 엔터티의 존재가 다른 엔터티의 존재에 영향을 주는 관계
    - 예) 부서 엔터티가 삭제되면, 해당 부서에 속한 사원 엔터티도 존재 불가

2. **행위적 관계 (Behavioral Relationship)**
    - 엔터티 간의 행위에 의해 발생하는 관계
    - 예) 고객이 주문을 함으로써 주문 엔터티가 생성됨

※ ERD에서는 존재적 관계와 행위적 관계를 구분하지 않고 동일한 방식으로 표현한다.

---

## 관계의 구성 요소
1. **관계명 (Relationship Name)**
    - 두 엔터티 간의 연관성을 나타내는 이름
    - 보통 동사형 표현 사용 (예: 고객 ― “주문한다” → 주문)

2. **차수 (Cardinality)**
    - 한 엔터티의 인스턴스가 다른 엔터티의 인스턴스와 맺을 수 있는 연관성의 수
    - 1:1, 1:N, N:M 형태로 표현

3. **선택성 (Optionality)**
    - 관계 참여가 필수인지 선택인지 여부
    - 예) 사원은 반드시 한 부서에 소속(필수), 부서는 사원이 없을 수도 있음(선택)

---

## 관계의 차수 (Cardinality)

1. **1 대 1 (1:1) 관계**
    - 한 엔터티의 인스턴스가 다른 엔터티의 인스턴스와 **최대 하나만** 대응
    - 예)
        - 완전 1:1 → 사원은 반드시 하나의 부서에 소속됨
        - 선택적 1:1 → 사원은 소속 부서가 있거나, 발령 전이면 없을 수도 있음

2. **1 대 N (1:N) 관계**
    - 한 엔터티의 인스턴스가 다른 엔터티의 여러 인스턴스와 연결
    - 가장 흔하게 나타나는 관계 유형
    - 예) 한 고객은 여러 개의 계좌를 가질 수 있음

3. **N 대 M (N:M) 관계**
    - 두 엔터티의 인스턴스가 서로 다수와 연결되는 경우
    - 예) 학생과 강의 → 한 학생이 여러 강의를 듣고, 한 강의도 여러 학생이 수강
    - 관계 해소 필요 → **연결 엔터티(Bridge/Associative Entity)**를 만들어 1:N 관계로 분해
        - 예) [학생] 1:N [수강이력] N:1 [강의]

---

## 관계의 페어링 (Pairing)
- 엔터티 안의 개별 인스턴스들이 관계를 맺는 것을 **페어링**이라 함
- 관계는 인스턴스 간의 **페어링 집합**으로 볼 수 있다.

### 관계와 차수, 페어링의 차이
- **관계** : 두 엔터티 간의 연관성 (예: 학생 ↔ 강의, M:N)
- **차수(Cardinality)** : 한 엔터티 인스턴스가 다른 엔터티 인스턴스와 연결되는 수 (예: 한 학생이 여러 강의를 수강 → 1:N)
- **페어링(Pairing)** : 실제 데이터 차원의 특정 연결 (예: 학생 A가 2023년 1학기에 강의 B를 수강, 성적 A+ 획득)  
